   1              		.cpu arm7tdmi
   2              		.fpu softvfp
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 6
  10              		.eabi_attribute 18, 4
  11              		.file	"lab8.c"
  21              	.Ltext0:
  22              		.file 1 "../lab8.c"
 2010              		.align	2
 2011              	.LC0:
 2012 0000 0A0A4361 		.ascii	"\012\012Cargando en RAM el contenido de IIC-EEPROM "
 2012      7267616E 
 2012      646F2065 
 2012      6E205241 
 2012      4D20656C 
 2013 002d 41543234 		.ascii	"AT24C04:\012\000"
 2013      4330343A 
 2013      0A00
 2014 0037 00       		.align	2
 2015              	.LC1:
 2016 0038 202D204C 		.ascii	" - Lectura aleatoria (\000"
 2016      65637475 
 2016      72612061 
 2016      6C656174 
 2016      6F726961 
 2017 004f 00       		.align	2
 2018              	.LC2:
 2019 0050 20627974 		.ascii	" bytes): \000"
 2019      6573293A 
 2019      2000
 2020 005a 0000     		.align	2
 2021              	.LC3:
 2022 005c 206D730A 		.ascii	" ms\012\000"
 2022      00
 2023 0061 000000   		.align	2
 2024              	.LC4:
 2025 0064 202D204C 		.ascii	" - Lectura secuencial (\000"
 2025      65637475 
 2025      72612073 
 2025      65637565 
 2025      6E636961 
 2026              		.align	2
 2027              	.LC5:
 2028 007c 4552524F 		.ascii	"ERROR: lectura aleatoria y secuencial no son coinci"
 2028      523A206C 
 2028      65637475 
 2028      72612061 
 2028      6C656174 
 2029 00af 64656E74 		.ascii	"dentes\012\000"
 2029      65730A00 
 2030 00b7 00       		.align	2
 2031              	.LC6:
 2032 00b8 0A566F6C 		.ascii	"\012Volcado del contenido inicial de la memoria IIC"
 2032      6361646F 
 2032      2064656C 
 2032      20636F6E 
 2032      74656E69 
 2033 00e8 2D454550 		.ascii	"-EEPROM AT24C04:\012\000"
 2033      524F4D20 
 2033      41543234 
 2033      4330343A 
 2033      0A00
 2034 00fa 0000     		.align	2
 2035              	.LC7:
 2036 00fc 0A00     		.ascii	"\012\000"
 2037 00fe 0000     		.align	2
 2038              	.LC8:
 2039 0100 303000   		.ascii	"00\000"
 2040 0103 00       		.align	2
 2041              	.LC9:
 2042 0104 683A00   		.ascii	"h:\000"
 2043 0107 00       		.align	2
 2044              	.LC10:
 2045 0108 203B2000 		.ascii	" ; \000"
 2046              		.align	2
 2047              	.LC11:
 2048 010c 0A0A4D6F 		.ascii	"\012\012Modificacion del contenido de la memoria II"
 2048      64696669 
 2048      63616369 
 2048      6F6E2064 
 2048      656C2063 
 2049 0139 432D4545 		.ascii	"C-EEPROM AT24C04:\012\000"
 2049      50524F4D 
 2049      20415432 
 2049      34433034 
 2049      3A0A00
 2050              		.align	2
 2051              	.LC12:
 2052 014c 20202D20 		.ascii	"  - Introduzca una direccion (0h-1ffh): \000"
 2052      496E7472 
 2052      6F64757A 
 2052      63612075 
 2052      6E612064 
 2053 0175 000000   		.align	2
 2054              	.LC13:
 2055 0178 20202D20 		.ascii	"  - Introduzca el dato (0h-ffh): \000"
 2055      496E7472 
 2055      6F64757A 
 2055      63612065 
 2055      6C206461 
 2056 019a 0000     		.align	2
 2057              	.LC14:
 2058 019c 0A566F6C 		.ascii	"\012Volcando en la IIC-EEPROM AT24C04 el contenido "
 2058      63616E64 
 2058      6F20656E 
 2058      206C6120 
 2058      4949432D 
 2059 01cc 6465206C 		.ascii	"de la RAM:\012\000"
 2059      61205241 
 2059      4D3A0A00 
 2060              		.align	2
 2061              	.LC15:
 2062 01d8 202D2045 		.ascii	" - Escritura aleatoria (\000"
 2062      73637269 
 2062      74757261 
 2062      20616C65 
 2062      61746F72 
 2063 01f1 000000   		.align	2
 2064              	.LC16:
 2065 01f4 4552524F 		.ascii	"ERROR: La escritura aleatoria falla.\012\000"
 2065      523A204C 
 2065      61206573 
 2065      63726974 
 2065      75726120 
 2066 021a 0000     		.align	2
 2067              	.LC17:
 2068 021c 202D2045 		.ascii	" - Escritura secuencial (\000"
 2068      73637269 
 2068      74757261 
 2068      20736563 
 2068      75656E63 
 2069 0236 0000     		.align	2
 2070              	.LC18:
 2071 0238 4552524F 		.ascii	"ERROR: La escritura secuencial falla.\012\000"
 2071      523A204C 
 2071      61206573 
 2071      63726974 
 2071      75726120 
 2072 025f 00       		.align	2
 2073              	.LC19:
 2074 0260 0A417061 		.ascii	"\012Apague la placa y vuelva a cargar y ejecutar el"
 2074      67756520 
 2074      6C612070 
 2074      6C616361 
 2074      20792076 
 2075 0290 2070726F 		.ascii	" programa.\012\000"
 2075      6772616D 
 2075      612E0A00 
 2076              		.text
 2077              		.align	2
 2078              		.global	main
 2080              	main:
 2081              	.LFB0:
   1:../lab8.c     **** /*-------------------------------------------------------------------
   2:../lab8.c     **** **
   3:../lab8.c     **** **  Fichero:
   4:../lab8.c     **** **    lab8.c  17/5/2013
   5:../lab8.c     **** **
   6:../lab8.c     **** **    (c) J.M. Mendias
   7:../lab8.c     **** **    Programación de Sistemas y Dispositivos
   8:../lab8.c     **** **    Facultad de Informática. Universidad Complutense de Madrid
   9:../lab8.c     **** **
  10:../lab8.c     **** **  Propósito:
  11:../lab8.c     **** **    Test del laboratorio 8
  12:../lab8.c     **** **
  13:../lab8.c     **** **  Notas de diseño:
  14:../lab8.c     **** **
  15:../lab8.c     **** **-----------------------------------------------------------------*/
  16:../lab8.c     **** 
  17:../lab8.c     **** #include <s3c44b0x.h>
  18:../lab8.c     **** #include <s3cev40.h>
  19:../lab8.c     **** #include <common_types.h>
  20:../lab8.c     **** #include <system.h>
  21:../lab8.c     **** #include <timers.h>
  22:../lab8.c     **** #include <uart.h>
  23:../lab8.c     **** #include <iic.h>
  24:../lab8.c     **** #include <at24c04.h>
  25:../lab8.c     **** 
  26:../lab8.c     **** void main( void )
  27:../lab8.c     **** {
 2082              		.loc 1 27 0
 2083              		.cfi_startproc
 2084              		@ Function supports interworking.
 2085              		@ args = 0, pretend = 0, frame = 1040
 2086              		@ frame_needed = 1, uses_anonymous_args = 0
 2087 0000 0DC0A0E1 		mov	ip, sp
 2088              	.LCFI0:
 2089              		.cfi_def_cfa_register 12
 2090 0004 00D82DE9 		stmfd	sp!, {fp, ip, lr, pc}
 2091 0008 04B04CE2 		sub	fp, ip, #4
 2092              		.cfi_offset 14, -8
 2093              		.cfi_offset 13, -12
 2094              		.cfi_offset 11, -16
 2095              	.LCFI1:
 2096              		.cfi_def_cfa 11, 4
 2097 000c 41DE4DE2 		sub	sp, sp, #1040
  28:../lab8.c     ****     uint8 buffer[AT24C04_DEPTH], buffer_aux[AT24C04_DEPTH];
  29:../lab8.c     ****     uint16 i, j, delay;
  30:../lab8.c     **** 
  31:../lab8.c     ****     uint32 addr, data;
  32:../lab8.c     ****     
  33:../lab8.c     ****     sys_init();
 2098              		.loc 1 33 0
 2099 0010 FEFFFFEB 		bl	sys_init
  34:../lab8.c     ****     uart0_init();
 2100              		.loc 1 34 0
 2101 0014 FEFFFFEB 		bl	uart0_init
  35:../lab8.c     ****     timers_init();
 2102              		.loc 1 35 0
 2103 0018 FEFFFFEB 		bl	timers_init
  36:../lab8.c     ****     iic_init();
 2104              		.loc 1 36 0
 2105 001c FEFFFFEB 		bl	iic_init
  37:../lab8.c     **** 
  38:../lab8.c     ****     /************************************/
  39:../lab8.c     **** 
  40:../lab8.c     ****     uart0_puts( "\n\nCargando en RAM el contenido de IIC-EEPROM AT24C04:\n" );
 2106              		.loc 1 40 0
 2107 0020 84059FE5 		ldr	r0, .L29
 2108 0024 FEFFFFEB 		bl	uart0_puts
  41:../lab8.c     **** 
  42:../lab8.c     ****     /************************************/
  43:../lab8.c     **** 
  44:../lab8.c     ****     timer3_start(); 
 2109              		.loc 1 44 0
 2110 0028 FEFFFFEB 		bl	timer3_start
  45:../lab8.c     ****     for( i=0; i<AT24C04_DEPTH; i++ )
 2111              		.loc 1 45 0
 2112 002c 0030A0E3 		mov	r3, #0
 2113 0030 BE304BE1 		strh	r3, [fp, #-14]	@ movhi
 2114 0034 090000EA 		b	.L2
 2115              	.L3:
  46:../lab8.c     ****         at24c04_byteread( i, &buffer[i] ); 
 2116              		.loc 1 46 0 discriminator 2
 2117 0038 BE305BE1 		ldrh	r3, [fp, #-14]
 2118 003c 872F4BE2 		sub	r2, fp, #540
 2119 0040 033082E0 		add	r3, r2, r3
 2120 0044 BE205BE1 		ldrh	r2, [fp, #-14]
 2121 0048 0200A0E1 		mov	r0, r2
 2122 004c 0310A0E1 		mov	r1, r3
 2123 0050 FEFFFFEB 		bl	at24c04_byteread
  45:../lab8.c     ****     for( i=0; i<AT24C04_DEPTH; i++ )
 2124              		.loc 1 45 0 discriminator 2
 2125 0054 BE305BE1 		ldrh	r3, [fp, #-14]	@ movhi
 2126 0058 013083E2 		add	r3, r3, #1
 2127 005c BE304BE1 		strh	r3, [fp, #-14]	@ movhi
 2128              	.L2:
  45:../lab8.c     ****     for( i=0; i<AT24C04_DEPTH; i++ )
 2129              		.loc 1 45 0 is_stmt 0 discriminator 1
 2130 0060 BE205BE1 		ldrh	r2, [fp, #-14]
 2131 0064 44359FE5 		ldr	r3, .L29+4
 2132 0068 030052E1 		cmp	r2, r3
 2133 006c F1FFFF9A 		bls	.L3
  47:../lab8.c     ****     delay = timer3_stop( );
 2134              		.loc 1 47 0 is_stmt 1
 2135 0070 FEFFFFEB 		bl	timer3_stop
 2136 0074 0030A0E1 		mov	r3, r0
 2137 0078 B2314BE1 		strh	r3, [fp, #-18]	@ movhi
  48:../lab8.c     ****     uart0_puts( " - Lectura aleatoria (" );
 2138              		.loc 1 48 0
 2139 007c 30059FE5 		ldr	r0, .L29+8
 2140 0080 FEFFFFEB 		bl	uart0_puts
  49:../lab8.c     ****     uart0_putint( AT24C04_DEPTH );
 2141              		.loc 1 49 0
 2142 0084 020CA0E3 		mov	r0, #512
 2143 0088 FEFFFFEB 		bl	uart0_putint
  50:../lab8.c     ****     uart0_puts( " bytes): " );
 2144              		.loc 1 50 0
 2145 008c 24059FE5 		ldr	r0, .L29+12
 2146 0090 FEFFFFEB 		bl	uart0_puts
  51:../lab8.c     ****     uart0_putint( delay/10 );
 2147              		.loc 1 51 0
 2148 0094 B2215BE1 		ldrh	r2, [fp, #-18]
 2149 0098 1C359FE5 		ldr	r3, .L29+16
 2150 009c 920383E0 		umull	r0, r3, r2, r3
 2151 00a0 A331A0E1 		mov	r3, r3, lsr #3
 2152 00a4 0338A0E1 		mov	r3, r3, asl #16
 2153 00a8 2338A0E1 		mov	r3, r3, lsr #16
 2154 00ac 0300A0E1 		mov	r0, r3
 2155 00b0 FEFFFFEB 		bl	uart0_putint
  52:../lab8.c     ****     uart0_puts( " ms\n" );
 2156              		.loc 1 52 0
 2157 00b4 04059FE5 		ldr	r0, .L29+20
 2158 00b8 FEFFFFEB 		bl	uart0_puts
  53:../lab8.c     **** 
  54:../lab8.c     ****     /************************************/
  55:../lab8.c     **** 
  56:../lab8.c     ****     timer3_start(); 
 2159              		.loc 1 56 0
 2160 00bc FEFFFFEB 		bl	timer3_start
  57:../lab8.c     ****     at24c04_load( buffer_aux );
 2161              		.loc 1 57 0
 2162 00c0 413E4BE2 		sub	r3, fp, #1040
 2163 00c4 0C3043E2 		sub	r3, r3, #12
 2164 00c8 0300A0E1 		mov	r0, r3
 2165 00cc FEFFFFEB 		bl	at24c04_load
  58:../lab8.c     ****     delay = timer3_stop( );
 2166              		.loc 1 58 0
 2167 00d0 FEFFFFEB 		bl	timer3_stop
 2168 00d4 0030A0E1 		mov	r3, r0
 2169 00d8 B2314BE1 		strh	r3, [fp, #-18]	@ movhi
  59:../lab8.c     ****     uart0_puts( " - Lectura secuencial (" );
 2170              		.loc 1 59 0
 2171 00dc E0049FE5 		ldr	r0, .L29+24
 2172 00e0 FEFFFFEB 		bl	uart0_puts
  60:../lab8.c     ****     uart0_putint( AT24C04_DEPTH );
 2173              		.loc 1 60 0
 2174 00e4 020CA0E3 		mov	r0, #512
 2175 00e8 FEFFFFEB 		bl	uart0_putint
  61:../lab8.c     ****     uart0_puts( " bytes): " );
 2176              		.loc 1 61 0
 2177 00ec C4049FE5 		ldr	r0, .L29+12
 2178 00f0 FEFFFFEB 		bl	uart0_puts
  62:../lab8.c     ****     uart0_putint( delay/10 );
 2179              		.loc 1 62 0
 2180 00f4 B2215BE1 		ldrh	r2, [fp, #-18]
 2181 00f8 BC349FE5 		ldr	r3, .L29+16
 2182 00fc 921383E0 		umull	r1, r3, r2, r3
 2183 0100 A331A0E1 		mov	r3, r3, lsr #3
 2184 0104 0338A0E1 		mov	r3, r3, asl #16
 2185 0108 2338A0E1 		mov	r3, r3, lsr #16
 2186 010c 0300A0E1 		mov	r0, r3
 2187 0110 FEFFFFEB 		bl	uart0_putint
  63:../lab8.c     ****     uart0_puts( " ms\n" );
 2188              		.loc 1 63 0
 2189 0114 A4049FE5 		ldr	r0, .L29+20
 2190 0118 FEFFFFEB 		bl	uart0_puts
  64:../lab8.c     **** 
  65:../lab8.c     ****     /************************************/
  66:../lab8.c     **** 
  67:../lab8.c     ****     for( i=0; i<AT24C04_DEPTH; i++ )
 2191              		.loc 1 67 0
 2192 011c 0030A0E3 		mov	r3, #0
 2193 0120 BE304BE1 		strh	r3, [fp, #-14]	@ movhi
 2194 0124 120000EA 		b	.L4
 2195              	.L6:
  68:../lab8.c     ****         if( buffer[i] != buffer_aux[i] )
 2196              		.loc 1 68 0
 2197 0128 BE205BE1 		ldrh	r2, [fp, #-14]
 2198 012c 94349FE5 		ldr	r3, .L29+28
 2199 0130 0C004BE2 		sub	r0, fp, #12
 2200 0134 022080E0 		add	r2, r0, r2
 2201 0138 033082E0 		add	r3, r2, r3
 2202 013c 0020D3E5 		ldrb	r2, [r3, #0]	@ zero_extendqisi2
 2203 0140 BE105BE1 		ldrh	r1, [fp, #-14]
 2204 0144 80349FE5 		ldr	r3, .L29+32
 2205 0148 0C004BE2 		sub	r0, fp, #12
 2206 014c 011080E0 		add	r1, r0, r1
 2207 0150 033081E0 		add	r3, r1, r3
 2208 0154 0030D3E5 		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2209 0158 030052E1 		cmp	r2, r3
 2210 015c 0100000A 		beq	.L5
  69:../lab8.c     ****             uart0_puts( "ERROR: lectura aleatoria y secuencial no son coincidentes\n" ); 
 2211              		.loc 1 69 0
 2212 0160 68049FE5 		ldr	r0, .L29+36
 2213 0164 FEFFFFEB 		bl	uart0_puts
 2214              	.L5:
  67:../lab8.c     ****     for( i=0; i<AT24C04_DEPTH; i++ )
 2215              		.loc 1 67 0
 2216 0168 BE305BE1 		ldrh	r3, [fp, #-14]	@ movhi
 2217 016c 013083E2 		add	r3, r3, #1
 2218 0170 BE304BE1 		strh	r3, [fp, #-14]	@ movhi
 2219              	.L4:
  67:../lab8.c     ****     for( i=0; i<AT24C04_DEPTH; i++ )
 2220              		.loc 1 67 0 is_stmt 0 discriminator 1
 2221 0174 BE205BE1 		ldrh	r2, [fp, #-14]
 2222 0178 30349FE5 		ldr	r3, .L29+4
 2223 017c 030052E1 		cmp	r2, r3
 2224 0180 E8FFFF9A 		bls	.L6
  70:../lab8.c     **** 
  71:../lab8.c     ****     /************************************/
  72:../lab8.c     **** 
  73:../lab8.c     ****     uart0_puts( "\nVolcado del contenido inicial de la memoria IIC-EEPROM AT24C04:\n" );
 2225              		.loc 1 73 0 is_stmt 1
 2226 0184 48049FE5 		ldr	r0, .L29+40
 2227 0188 FEFFFFEB 		bl	uart0_puts
  74:../lab8.c     ****         
  75:../lab8.c     ****     for( i=0; i < (AT24C04_DEPTH>>4); i++ ){
 2228              		.loc 1 75 0
 2229 018c 0030A0E3 		mov	r3, #0
 2230 0190 BE304BE1 		strh	r3, [fp, #-14]	@ movhi
 2231 0194 660000EA 		b	.L7
 2232              	.L17:
  76:../lab8.c     ****         uart0_puts( "\n" );
 2233              		.loc 1 76 0
 2234 0198 38049FE5 		ldr	r0, .L29+44
 2235 019c FEFFFFEB 		bl	uart0_puts
  77:../lab8.c     ****         if( i<<4 <= 0xf )
 2236              		.loc 1 77 0
 2237 01a0 BE305BE1 		ldrh	r3, [fp, #-14]
 2238 01a4 0332A0E1 		mov	r3, r3, asl #4
 2239 01a8 0F0053E3 		cmp	r3, #15
 2240 01ac 020000CA 		bgt	.L8
  78:../lab8.c     ****             uart0_puts( "00" );
 2241              		.loc 1 78 0
 2242 01b0 24049FE5 		ldr	r0, .L29+48
 2243 01b4 FEFFFFEB 		bl	uart0_puts
 2244 01b8 050000EA 		b	.L9
 2245              	.L8:
  79:../lab8.c     ****         else if( i<<4 <= 0xff )
 2246              		.loc 1 79 0
 2247 01bc BE305BE1 		ldrh	r3, [fp, #-14]
 2248 01c0 0332A0E1 		mov	r3, r3, asl #4
 2249 01c4 FF0053E3 		cmp	r3, #255
 2250 01c8 010000CA 		bgt	.L9
  80:../lab8.c     ****             uart0_putchar( '0' );
 2251              		.loc 1 80 0
 2252 01cc 3000A0E3 		mov	r0, #48
 2253 01d0 FEFFFFEB 		bl	uart0_putchar
 2254              	.L9:
  81:../lab8.c     ****         uart0_puthex( i<<4 );
 2255              		.loc 1 81 0
 2256 01d4 BE305BE1 		ldrh	r3, [fp, #-14]
 2257 01d8 0332A0E1 		mov	r3, r3, asl #4
 2258 01dc 0300A0E1 		mov	r0, r3
 2259 01e0 FEFFFFEB 		bl	uart0_puthex
  82:../lab8.c     ****         uart0_puts( "h:"  );
 2260              		.loc 1 82 0
 2261 01e4 F4039FE5 		ldr	r0, .L29+52
 2262 01e8 FEFFFFEB 		bl	uart0_puts
  83:../lab8.c     ****         for( j=0; j<16; j++ )
 2263              		.loc 1 83 0
 2264 01ec 0030A0E3 		mov	r3, #0
 2265 01f0 B0314BE1 		strh	r3, [fp, #-16]	@ movhi
 2266 01f4 1A0000EA 		b	.L10
 2267              	.L12:
  84:../lab8.c     ****         {
  85:../lab8.c     ****             if( buffer[(i<<4)+j] <= 0xf )
 2268              		.loc 1 85 0
 2269 01f8 BE305BE1 		ldrh	r3, [fp, #-14]
 2270 01fc 0322A0E1 		mov	r2, r3, asl #4
 2271 0200 B0315BE1 		ldrh	r3, [fp, #-16]
 2272 0204 032082E0 		add	r2, r2, r3
 2273 0208 B8339FE5 		ldr	r3, .L29+28
 2274 020c 0C104BE2 		sub	r1, fp, #12
 2275 0210 022081E0 		add	r2, r1, r2
 2276 0214 033082E0 		add	r3, r2, r3
 2277 0218 0030D3E5 		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2278 021c 0F0053E3 		cmp	r3, #15
 2279 0220 0100008A 		bhi	.L11
  86:../lab8.c     ****                 uart0_putchar( '0' );
 2280              		.loc 1 86 0
 2281 0224 3000A0E3 		mov	r0, #48
 2282 0228 FEFFFFEB 		bl	uart0_putchar
 2283              	.L11:
  87:../lab8.c     ****             uart0_puthex( buffer[(i<<4)+j] );
 2284              		.loc 1 87 0
 2285 022c BE305BE1 		ldrh	r3, [fp, #-14]
 2286 0230 0322A0E1 		mov	r2, r3, asl #4
 2287 0234 B0315BE1 		ldrh	r3, [fp, #-16]
 2288 0238 032082E0 		add	r2, r2, r3
 2289 023c 84339FE5 		ldr	r3, .L29+28
 2290 0240 0C004BE2 		sub	r0, fp, #12
 2291 0244 022080E0 		add	r2, r0, r2
 2292 0248 033082E0 		add	r3, r2, r3
 2293 024c 0030D3E5 		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2294 0250 0300A0E1 		mov	r0, r3
 2295 0254 FEFFFFEB 		bl	uart0_puthex
  83:../lab8.c     ****         for( j=0; j<16; j++ )
 2296              		.loc 1 83 0
 2297 0258 B0315BE1 		ldrh	r3, [fp, #-16]	@ movhi
 2298 025c 013083E2 		add	r3, r3, #1
 2299 0260 B0314BE1 		strh	r3, [fp, #-16]	@ movhi
 2300              	.L10:
  83:../lab8.c     ****         for( j=0; j<16; j++ )
 2301              		.loc 1 83 0 is_stmt 0 discriminator 1
 2302 0264 B0315BE1 		ldrh	r3, [fp, #-16]
 2303 0268 0F0053E3 		cmp	r3, #15
 2304 026c E1FFFF9A 		bls	.L12
  88:../lab8.c     ****         }
  89:../lab8.c     ****         uart0_puts( " ; " );
 2305              		.loc 1 89 0 is_stmt 1
 2306 0270 6C039FE5 		ldr	r0, .L29+56
 2307 0274 FEFFFFEB 		bl	uart0_puts
  90:../lab8.c     ****         for( j=0; j<16; j++ )
 2308              		.loc 1 90 0
 2309 0278 0030A0E3 		mov	r3, #0
 2310 027c B0314BE1 		strh	r3, [fp, #-16]	@ movhi
 2311 0280 250000EA 		b	.L13
 2312              	.L16:
  91:../lab8.c     ****               uart0_putchar( ( (31<buffer[(i<<4)+j]) && (buffer[(i<<4)+j]<127) ? buffer[(i<<4)+j] :
 2313              		.loc 1 91 0
 2314 0284 BE305BE1 		ldrh	r3, [fp, #-14]
 2315 0288 0322A0E1 		mov	r2, r3, asl #4
 2316 028c B0315BE1 		ldrh	r3, [fp, #-16]
 2317 0290 032082E0 		add	r2, r2, r3
 2318 0294 2C339FE5 		ldr	r3, .L29+28
 2319 0298 0C104BE2 		sub	r1, fp, #12
 2320 029c 022081E0 		add	r2, r1, r2
 2321 02a0 033082E0 		add	r3, r2, r3
 2322 02a4 0030D3E5 		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2323 02a8 1F0053E3 		cmp	r3, #31
 2324 02ac 1400009A 		bls	.L14
 2325              		.loc 1 91 0 is_stmt 0 discriminator 1
 2326 02b0 BE305BE1 		ldrh	r3, [fp, #-14]
 2327 02b4 0322A0E1 		mov	r2, r3, asl #4
 2328 02b8 B0315BE1 		ldrh	r3, [fp, #-16]
 2329 02bc 032082E0 		add	r2, r2, r3
 2330 02c0 00339FE5 		ldr	r3, .L29+28
 2331 02c4 0C004BE2 		sub	r0, fp, #12
 2332 02c8 022080E0 		add	r2, r0, r2
 2333 02cc 033082E0 		add	r3, r2, r3
 2334 02d0 0030D3E5 		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2335 02d4 7E0053E3 		cmp	r3, #126
 2336 02d8 0900008A 		bhi	.L14
 2337 02dc BE305BE1 		ldrh	r3, [fp, #-14]
 2338 02e0 0322A0E1 		mov	r2, r3, asl #4
 2339 02e4 B0315BE1 		ldrh	r3, [fp, #-16]
 2340 02e8 032082E0 		add	r2, r2, r3
 2341 02ec D4329FE5 		ldr	r3, .L29+28
 2342 02f0 0C104BE2 		sub	r1, fp, #12
 2343 02f4 022081E0 		add	r2, r1, r2
 2344 02f8 033082E0 		add	r3, r2, r3
 2345 02fc 0030D3E5 		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2346 0300 000000EA 		b	.L15
 2347              	.L14:
 2348              		.loc 1 91 0 discriminator 2
 2349 0304 2E30A0E3 		mov	r3, #46
 2350              	.L15:
 2351              		.loc 1 91 0 discriminator 3
 2352 0308 0300A0E1 		mov	r0, r3
 2353 030c FEFFFFEB 		bl	uart0_putchar
  90:../lab8.c     ****         for( j=0; j<16; j++ )
 2354              		.loc 1 90 0 is_stmt 1 discriminator 3
 2355 0310 B0315BE1 		ldrh	r3, [fp, #-16]	@ movhi
 2356 0314 013083E2 		add	r3, r3, #1
 2357 0318 B0314BE1 		strh	r3, [fp, #-16]	@ movhi
 2358              	.L13:
  90:../lab8.c     ****         for( j=0; j<16; j++ )
 2359              		.loc 1 90 0 is_stmt 0 discriminator 1
 2360 031c B0315BE1 		ldrh	r3, [fp, #-16]
 2361 0320 0F0053E3 		cmp	r3, #15
 2362 0324 D6FFFF9A 		bls	.L16
  75:../lab8.c     ****     for( i=0; i < (AT24C04_DEPTH>>4); i++ ){
 2363              		.loc 1 75 0 is_stmt 1
 2364 0328 BE305BE1 		ldrh	r3, [fp, #-14]	@ movhi
 2365 032c 013083E2 		add	r3, r3, #1
 2366 0330 BE304BE1 		strh	r3, [fp, #-14]	@ movhi
 2367              	.L7:
  75:../lab8.c     ****     for( i=0; i < (AT24C04_DEPTH>>4); i++ ){
 2368              		.loc 1 75 0 is_stmt 0 discriminator 1
 2369 0334 BE305BE1 		ldrh	r3, [fp, #-14]
 2370 0338 1F0053E3 		cmp	r3, #31
 2371 033c 95FFFF9A 		bls	.L17
  92:../lab8.c     ****     };
  93:../lab8.c     **** 
  94:../lab8.c     ****     /************************************/
  95:../lab8.c     **** 
  96:../lab8.c     ****     uart0_puts( "\n\nModificacion del contenido de la memoria IIC-EEPROM AT24C04:\n" );    
 2372              		.loc 1 96 0 is_stmt 1
 2373 0340 A0029FE5 		ldr	r0, .L29+60
 2374 0344 FEFFFFEB 		bl	uart0_puts
  97:../lab8.c     **** 
  98:../lab8.c     ****     for( i=0; i<5; i++ )
 2375              		.loc 1 98 0
 2376 0348 0030A0E3 		mov	r3, #0
 2377 034c BE304BE1 		strh	r3, [fp, #-14]	@ movhi
 2378 0350 120000EA 		b	.L18
 2379              	.L19:
  99:../lab8.c     ****     {
 100:../lab8.c     ****         uart0_puts( "  - Introduzca una direccion (0h-1ffh): " );
 2380              		.loc 1 100 0 discriminator 2
 2381 0354 90029FE5 		ldr	r0, .L29+64
 2382 0358 FEFFFFEB 		bl	uart0_puts
 101:../lab8.c     ****         addr = uart0_gethex( );
 2383              		.loc 1 101 0 discriminator 2
 2384 035c FEFFFFEB 		bl	uart0_gethex
 2385 0360 18000BE5 		str	r0, [fp, #-24]
 102:../lab8.c     ****         uart0_puts( "  - Introduzca el dato (0h-ffh): " );
 2386              		.loc 1 102 0 discriminator 2
 2387 0364 84029FE5 		ldr	r0, .L29+68
 2388 0368 FEFFFFEB 		bl	uart0_puts
 103:../lab8.c     ****         data = uart0_gethex( );
 2389              		.loc 1 103 0 discriminator 2
 2390 036c FEFFFFEB 		bl	uart0_gethex
 2391 0370 1C000BE5 		str	r0, [fp, #-28]
 104:../lab8.c     ****         buffer[addr] = data;
 2392              		.loc 1 104 0 discriminator 2
 2393 0374 1C301BE5 		ldr	r3, [fp, #-28]
 2394 0378 FF2003E2 		and	r2, r3, #255
 2395 037c 44329FE5 		ldr	r3, .L29+28
 2396 0380 18101BE5 		ldr	r1, [fp, #-24]
 2397 0384 0C004BE2 		sub	r0, fp, #12
 2398 0388 011080E0 		add	r1, r0, r1
 2399 038c 033081E0 		add	r3, r1, r3
 2400 0390 0020C3E5 		strb	r2, [r3, #0]
  98:../lab8.c     ****     for( i=0; i<5; i++ )
 2401              		.loc 1 98 0 discriminator 2
 2402 0394 BE305BE1 		ldrh	r3, [fp, #-14]	@ movhi
 2403 0398 013083E2 		add	r3, r3, #1
 2404 039c BE304BE1 		strh	r3, [fp, #-14]	@ movhi
 2405              	.L18:
  98:../lab8.c     ****     for( i=0; i<5; i++ )
 2406              		.loc 1 98 0 is_stmt 0 discriminator 1
 2407 03a0 BE305BE1 		ldrh	r3, [fp, #-14]
 2408 03a4 040053E3 		cmp	r3, #4
 2409 03a8 E9FFFF9A 		bls	.L19
 105:../lab8.c     ****     }
 106:../lab8.c     **** 
 107:../lab8.c     ****     /************************************/
 108:../lab8.c     **** 
 109:../lab8.c     ****     uart0_puts( "\nVolcando en la IIC-EEPROM AT24C04 el contenido de la RAM:\n" );
 2410              		.loc 1 109 0 is_stmt 1
 2411 03ac 40029FE5 		ldr	r0, .L29+72
 2412 03b0 FEFFFFEB 		bl	uart0_puts
 110:../lab8.c     **** 
 111:../lab8.c     ****     /************************************/
 112:../lab8.c     **** 
 113:../lab8.c     ****     timer3_start(); 
 2413              		.loc 1 113 0
 2414 03b4 FEFFFFEB 		bl	timer3_start
 114:../lab8.c     ****     for( i=0; i<AT24C04_DEPTH; i++ )
 2415              		.loc 1 114 0
 2416 03b8 0030A0E3 		mov	r3, #0
 2417 03bc BE304BE1 		strh	r3, [fp, #-14]	@ movhi
 2418 03c0 0C0000EA 		b	.L20
 2419              	.L21:
 115:../lab8.c     ****         at24c04_bytewrite( i, buffer[i] ); 
 2420              		.loc 1 115 0 discriminator 2
 2421 03c4 BE205BE1 		ldrh	r2, [fp, #-14]
 2422 03c8 F8319FE5 		ldr	r3, .L29+28
 2423 03cc 0C104BE2 		sub	r1, fp, #12
 2424 03d0 022081E0 		add	r2, r1, r2
 2425 03d4 033082E0 		add	r3, r2, r3
 2426 03d8 0030D3E5 		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2427 03dc BE205BE1 		ldrh	r2, [fp, #-14]
 2428 03e0 0200A0E1 		mov	r0, r2
 2429 03e4 0310A0E1 		mov	r1, r3
 2430 03e8 FEFFFFEB 		bl	at24c04_bytewrite
 114:../lab8.c     ****     for( i=0; i<AT24C04_DEPTH; i++ )
 2431              		.loc 1 114 0 discriminator 2
 2432 03ec BE305BE1 		ldrh	r3, [fp, #-14]	@ movhi
 2433 03f0 013083E2 		add	r3, r3, #1
 2434 03f4 BE304BE1 		strh	r3, [fp, #-14]	@ movhi
 2435              	.L20:
 114:../lab8.c     ****     for( i=0; i<AT24C04_DEPTH; i++ )
 2436              		.loc 1 114 0 is_stmt 0 discriminator 1
 2437 03f8 BE205BE1 		ldrh	r2, [fp, #-14]
 2438 03fc AC319FE5 		ldr	r3, .L29+4
 2439 0400 030052E1 		cmp	r2, r3
 2440 0404 EEFFFF9A 		bls	.L21
 116:../lab8.c     ****     delay = timer3_stop( );
 2441              		.loc 1 116 0 is_stmt 1
 2442 0408 FEFFFFEB 		bl	timer3_stop
 2443 040c 0030A0E1 		mov	r3, r0
 2444 0410 B2314BE1 		strh	r3, [fp, #-18]	@ movhi
 117:../lab8.c     ****     uart0_puts( " - Escritura aleatoria (" );
 2445              		.loc 1 117 0
 2446 0414 DC019FE5 		ldr	r0, .L29+76
 2447 0418 FEFFFFEB 		bl	uart0_puts
 118:../lab8.c     ****     uart0_putint( AT24C04_DEPTH );
 2448              		.loc 1 118 0
 2449 041c 020CA0E3 		mov	r0, #512
 2450 0420 FEFFFFEB 		bl	uart0_putint
 119:../lab8.c     ****     uart0_puts( " bytes): " );
 2451              		.loc 1 119 0
 2452 0424 8C019FE5 		ldr	r0, .L29+12
 2453 0428 FEFFFFEB 		bl	uart0_puts
 120:../lab8.c     ****     uart0_putint( delay/10 );
 2454              		.loc 1 120 0
 2455 042c B2215BE1 		ldrh	r2, [fp, #-18]
 2456 0430 84319FE5 		ldr	r3, .L29+16
 2457 0434 920383E0 		umull	r0, r3, r2, r3
 2458 0438 A331A0E1 		mov	r3, r3, lsr #3
 2459 043c 0338A0E1 		mov	r3, r3, asl #16
 2460 0440 2338A0E1 		mov	r3, r3, lsr #16
 2461 0444 0300A0E1 		mov	r0, r3
 2462 0448 FEFFFFEB 		bl	uart0_putint
 121:../lab8.c     ****     uart0_puts( " ms\n" );
 2463              		.loc 1 121 0
 2464 044c 6C019FE5 		ldr	r0, .L29+20
 2465 0450 FEFFFFEB 		bl	uart0_puts
 122:../lab8.c     **** 
 123:../lab8.c     ****     at24c04_load( buffer_aux );
 2466              		.loc 1 123 0
 2467 0454 413E4BE2 		sub	r3, fp, #1040
 2468 0458 0C3043E2 		sub	r3, r3, #12
 2469 045c 0300A0E1 		mov	r0, r3
 2470 0460 FEFFFFEB 		bl	at24c04_load
 124:../lab8.c     ****     for( i=0; i<AT24C04_DEPTH; i++ )
 2471              		.loc 1 124 0
 2472 0464 0030A0E3 		mov	r3, #0
 2473 0468 BE304BE1 		strh	r3, [fp, #-14]	@ movhi
 2474 046c 120000EA 		b	.L22
 2475              	.L24:
 125:../lab8.c     ****         if( buffer[i] != buffer_aux[i] )
 2476              		.loc 1 125 0
 2477 0470 BE205BE1 		ldrh	r2, [fp, #-14]
 2478 0474 4C319FE5 		ldr	r3, .L29+28
 2479 0478 0C104BE2 		sub	r1, fp, #12
 2480 047c 022081E0 		add	r2, r1, r2
 2481 0480 033082E0 		add	r3, r2, r3
 2482 0484 0020D3E5 		ldrb	r2, [r3, #0]	@ zero_extendqisi2
 2483 0488 BE105BE1 		ldrh	r1, [fp, #-14]
 2484 048c 38319FE5 		ldr	r3, .L29+32
 2485 0490 0C004BE2 		sub	r0, fp, #12
 2486 0494 011080E0 		add	r1, r0, r1
 2487 0498 033081E0 		add	r3, r1, r3
 2488 049c 0030D3E5 		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2489 04a0 030052E1 		cmp	r2, r3
 2490 04a4 0100000A 		beq	.L23
 126:../lab8.c     ****             uart0_puts( "ERROR: La escritura aleatoria falla.\n" );     
 2491              		.loc 1 126 0
 2492 04a8 4C019FE5 		ldr	r0, .L29+80
 2493 04ac FEFFFFEB 		bl	uart0_puts
 2494              	.L23:
 124:../lab8.c     ****     for( i=0; i<AT24C04_DEPTH; i++ )
 2495              		.loc 1 124 0
 2496 04b0 BE305BE1 		ldrh	r3, [fp, #-14]	@ movhi
 2497 04b4 013083E2 		add	r3, r3, #1
 2498 04b8 BE304BE1 		strh	r3, [fp, #-14]	@ movhi
 2499              	.L22:
 124:../lab8.c     ****     for( i=0; i<AT24C04_DEPTH; i++ )
 2500              		.loc 1 124 0 is_stmt 0 discriminator 1
 2501 04bc BE205BE1 		ldrh	r2, [fp, #-14]
 2502 04c0 E8309FE5 		ldr	r3, .L29+4
 2503 04c4 030052E1 		cmp	r2, r3
 2504 04c8 E8FFFF9A 		bls	.L24
 127:../lab8.c     **** 
 128:../lab8.c     ****     /************************************/
 129:../lab8.c     **** 
 130:../lab8.c     ****     timer3_start(); 
 2505              		.loc 1 130 0 is_stmt 1
 2506 04cc FEFFFFEB 		bl	timer3_start
 131:../lab8.c     ****     at24c04_store( buffer );
 2507              		.loc 1 131 0
 2508 04d0 873F4BE2 		sub	r3, fp, #540
 2509 04d4 0300A0E1 		mov	r0, r3
 2510 04d8 FEFFFFEB 		bl	at24c04_store
 132:../lab8.c     ****     delay = timer3_stop( );
 2511              		.loc 1 132 0
 2512 04dc FEFFFFEB 		bl	timer3_stop
 2513 04e0 0030A0E1 		mov	r3, r0
 2514 04e4 B2314BE1 		strh	r3, [fp, #-18]	@ movhi
 133:../lab8.c     ****     uart0_puts( " - Escritura secuencial (" );
 2515              		.loc 1 133 0
 2516 04e8 10019FE5 		ldr	r0, .L29+84
 2517 04ec FEFFFFEB 		bl	uart0_puts
 134:../lab8.c     ****     uart0_putint( AT24C04_DEPTH );
 2518              		.loc 1 134 0
 2519 04f0 020CA0E3 		mov	r0, #512
 2520 04f4 FEFFFFEB 		bl	uart0_putint
 135:../lab8.c     ****     uart0_puts( " bytes): " );
 2521              		.loc 1 135 0
 2522 04f8 B8009FE5 		ldr	r0, .L29+12
 2523 04fc FEFFFFEB 		bl	uart0_puts
 136:../lab8.c     ****     uart0_putint( delay/10 );
 2524              		.loc 1 136 0
 2525 0500 B2215BE1 		ldrh	r2, [fp, #-18]
 2526 0504 B0309FE5 		ldr	r3, .L29+16
 2527 0508 921383E0 		umull	r1, r3, r2, r3
 2528 050c A331A0E1 		mov	r3, r3, lsr #3
 2529 0510 0338A0E1 		mov	r3, r3, asl #16
 2530 0514 2338A0E1 		mov	r3, r3, lsr #16
 2531 0518 0300A0E1 		mov	r0, r3
 2532 051c FEFFFFEB 		bl	uart0_putint
 137:../lab8.c     ****     uart0_puts( " ms\n" );
 2533              		.loc 1 137 0
 2534 0520 98009FE5 		ldr	r0, .L29+20
 2535 0524 FEFFFFEB 		bl	uart0_puts
 138:../lab8.c     **** 
 139:../lab8.c     ****     at24c04_load( buffer_aux );
 2536              		.loc 1 139 0
 2537 0528 413E4BE2 		sub	r3, fp, #1040
 2538 052c 0C3043E2 		sub	r3, r3, #12
 2539 0530 0300A0E1 		mov	r0, r3
 2540 0534 FEFFFFEB 		bl	at24c04_load
 140:../lab8.c     ****     for( i=0; i<AT24C04_DEPTH; i++ )
 2541              		.loc 1 140 0
 2542 0538 0030A0E3 		mov	r3, #0
 2543 053c BE304BE1 		strh	r3, [fp, #-14]	@ movhi
 2544 0540 120000EA 		b	.L25
 2545              	.L27:
 141:../lab8.c     ****         if( buffer[i] != buffer_aux[i] )
 2546              		.loc 1 141 0
 2547 0544 BE205BE1 		ldrh	r2, [fp, #-14]
 2548 0548 78309FE5 		ldr	r3, .L29+28
 2549 054c 0C004BE2 		sub	r0, fp, #12
 2550 0550 022080E0 		add	r2, r0, r2
 2551 0554 033082E0 		add	r3, r2, r3
 2552 0558 0020D3E5 		ldrb	r2, [r3, #0]	@ zero_extendqisi2
 2553 055c BE105BE1 		ldrh	r1, [fp, #-14]
 2554 0560 64309FE5 		ldr	r3, .L29+32
 2555 0564 0C004BE2 		sub	r0, fp, #12
 2556 0568 011080E0 		add	r1, r0, r1
 2557 056c 033081E0 		add	r3, r1, r3
 2558 0570 0030D3E5 		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2559 0574 030052E1 		cmp	r2, r3
 2560 0578 0100000A 		beq	.L26
 142:../lab8.c     ****             uart0_puts( "ERROR: La escritura secuencial falla.\n" );     
 2561              		.loc 1 142 0
 2562 057c 80009FE5 		ldr	r0, .L29+88
 2563 0580 FEFFFFEB 		bl	uart0_puts
 2564              	.L26:
 140:../lab8.c     ****     for( i=0; i<AT24C04_DEPTH; i++ )
 2565              		.loc 1 140 0
 2566 0584 BE305BE1 		ldrh	r3, [fp, #-14]	@ movhi
 2567 0588 013083E2 		add	r3, r3, #1
 2568 058c BE304BE1 		strh	r3, [fp, #-14]	@ movhi
 2569              	.L25:
 140:../lab8.c     ****     for( i=0; i<AT24C04_DEPTH; i++ )
 2570              		.loc 1 140 0 is_stmt 0 discriminator 1
 2571 0590 BE205BE1 		ldrh	r2, [fp, #-14]
 2572 0594 14309FE5 		ldr	r3, .L29+4
 2573 0598 030052E1 		cmp	r2, r3
 2574 059c E8FFFF9A 		bls	.L27
 143:../lab8.c     **** 
 144:../lab8.c     ****     /************************************/
 145:../lab8.c     **** 
 146:../lab8.c     ****     uart0_puts( "\nApague la placa y vuelva a cargar y ejecutar el programa.\n" );    
 2575              		.loc 1 146 0 is_stmt 1
 2576 05a0 60009FE5 		ldr	r0, .L29+92
 2577 05a4 FEFFFFEB 		bl	uart0_puts
 2578              	.L28:
 147:../lab8.c     **** 
 148:../lab8.c     ****     /************************************/
 149:../lab8.c     **** 
 150:../lab8.c     ****     while( 1 );
 2579              		.loc 1 150 0 discriminator 1
 2580 05a8 FEFFFFEA 		b	.L28
 2581              	.L30:
 2582              		.align	2
 2583              	.L29:
 2584 05ac 00000000 		.word	.LC0
 2585 05b0 FF010000 		.word	511
 2586 05b4 38000000 		.word	.LC1
 2587 05b8 50000000 		.word	.LC2
 2588 05bc CDCCCCCC 		.word	-858993459
 2589 05c0 5C000000 		.word	.LC3
 2590 05c4 64000000 		.word	.LC4
 2591 05c8 F0FDFFFF 		.word	-528
 2592 05cc F0FBFFFF 		.word	-1040
 2593 05d0 7C000000 		.word	.LC5
 2594 05d4 B8000000 		.word	.LC6
 2595 05d8 FC000000 		.word	.LC7
 2596 05dc 00010000 		.word	.LC8
 2597 05e0 04010000 		.word	.LC9
 2598 05e4 08010000 		.word	.LC10
 2599 05e8 0C010000 		.word	.LC11
 2600 05ec 4C010000 		.word	.LC12
 2601 05f0 78010000 		.word	.LC13
 2602 05f4 9C010000 		.word	.LC14
 2603 05f8 D8010000 		.word	.LC15
 2604 05fc F4010000 		.word	.LC16
 2605 0600 1C020000 		.word	.LC17
 2606 0604 38020000 		.word	.LC18
 2607 0608 60020000 		.word	.LC19
 2608              		.cfi_endproc
 2609              	.LFE0:
 2611              	.Letext0:
DEFINED SYMBOLS
                            *ABS*:00000000 lab8.c
C:\Users\DOSTATIC\AppData\Local\Temp\cc1wrTAT.s:2010   .rodata:00000000 $d
C:\Users\DOSTATIC\AppData\Local\Temp\cc1wrTAT.s:2077   .text:00000000 $a
C:\Users\DOSTATIC\AppData\Local\Temp\cc1wrTAT.s:2080   .text:00000000 main
C:\Users\DOSTATIC\AppData\Local\Temp\cc1wrTAT.s:2584   .text:000005ac $d
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
sys_init
uart0_init
timers_init
iic_init
uart0_puts
timer3_start
at24c04_byteread
timer3_stop
uart0_putint
at24c04_load
uart0_putchar
uart0_puthex
uart0_gethex
at24c04_bytewrite
at24c04_store
